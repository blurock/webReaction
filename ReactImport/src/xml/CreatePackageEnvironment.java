/*
 * CreatePackageEnvironment.java
 *
 * Created on February 20, 2001, 6:14 PM
 */

package xml;
import blurock.core.RunScriptWithOutput;

/**
 *
 * @author  reaction
 * @version 
 */
public class CreatePackageEnvironment extends javax.swing.JPanel {

    XMLOptions xmlOptions;
    /** Creates new form CreatePackageEnvironment */
    public CreatePackageEnvironment(XMLOptions opt) {
        xmlOptions = opt;
        initComponents ();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the FormEditor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        jPanel1 = new javax.swing.JPanel();
        createPackage = new javax.swing.JButton();
        packageLabel = new javax.swing.JLabel();
        packageName = new javax.swing.JTextField();
        setLayout(new java.awt.BorderLayout());
        
        jPanel1.setLayout(new java.awt.GridBagLayout());
        java.awt.GridBagConstraints gridBagConstraints1;
        jPanel1.setPreferredSize(new java.awt.Dimension(300, 100));
        jPanel1.setBorder(new javax.swing.border.TitledBorder("Create New Package Environment"));
        jPanel1.setMinimumSize(new java.awt.Dimension(200, 39));
        
        createPackage.setToolTipText("Create a new Package (cannot exist already)");
          createPackage.setText("Create New Package");
          createPackage.addMouseListener(new java.awt.event.MouseAdapter() {
              public void mouseClicked(java.awt.event.MouseEvent evt) {
                  createPackageMouseClicked(evt);
              }
          }
          );
          gridBagConstraints1 = new java.awt.GridBagConstraints();
          gridBagConstraints1.gridwidth = 0;
          gridBagConstraints1.fill = java.awt.GridBagConstraints.HORIZONTAL;
          jPanel1.add(createPackage, gridBagConstraints1);
          
          
        packageLabel.setText("New Package Name");
          packageLabel.setToolTipText("The name of the new package to be created");
          gridBagConstraints1 = new java.awt.GridBagConstraints();
          gridBagConstraints1.ipadx = 5;
          gridBagConstraints1.ipady = 5;
          jPanel1.add(packageLabel, gridBagConstraints1);
          
          
        packageName.setName("NewPackage");
          packageName.setText("NewPackage");
          gridBagConstraints1 = new java.awt.GridBagConstraints();
          gridBagConstraints1.fill = java.awt.GridBagConstraints.HORIZONTAL;
          gridBagConstraints1.ipadx = 5;
          gridBagConstraints1.ipady = 5;
          jPanel1.add(packageName, gridBagConstraints1);
          
          
        add(jPanel1, java.awt.BorderLayout.CENTER);
        
    }//GEN-END:initComponents

  private void createPackageMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_createPackageMouseClicked
// Add your handling code here:
      String command =  xmlOptions.defaultDirectories.xmlDirectory.getValue() +
                        "/scripts/" + 
                        xmlOptions.standardScripts.initEnvironment.getValue() + " " +
                        packageName.getText() + " " +
                        xmlOptions.defaultDirectories.currentDevDirectory.getValue() + " " +
                        xmlOptions.defaultDirectories.xmlDirectory.getValue() + " " +
                        xmlOptions.defaultDirectories.TopSystemDirectory.getValue();
      RunScriptWithOutput scr = new RunScriptWithOutput(xmlOptions.tLink);
      scr.run(command,true);      
  }//GEN-LAST:event_createPackageMouseClicked


  // Variables declaration - do not modify//GEN-BEGIN:variables
  private javax.swing.JPanel jPanel1;
  private javax.swing.JButton createPackage;
  private javax.swing.JLabel packageLabel;
  private javax.swing.JTextField packageName;
  // End of variables declaration//GEN-END:variables

}
