/*
 * InitializeTotalSystem.java
 *
 * Created on February 20, 2001, 2:29 PM
 */

package xml;
import blurock.core.RunScriptWithOutput;

/**
 *
 * @author  reaction
 * @version 
 */
public class InitializeTotalSystem extends javax.swing.JPanel {

    /** Creates new form InitializeTotalSystem */
    public InitializeTotalSystem(XMLOptions opt) {
        xmlOptions = opt;
        initComponents ();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the FormEditor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        topDirectory = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        developDir = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        dataDir = new javax.swing.JTextField();
        jPanel2 = new javax.swing.JPanel();
        initializeSystem = new javax.swing.JButton();
        setLayout(new java.awt.BorderLayout());
        
        jPanel1.setLayout(new java.awt.GridLayout(3, 2));
        jPanel1.setBorder(new javax.swing.border.TitledBorder("System Initialization"));
        
        jLabel1.setText("Top System Directory");
          jPanel1.add(jLabel1);
          
          
        topDirectory.setToolTipText("The top system directory");
          topDirectory.setText(xmlOptions.defaultDirectories.TopSystemDirectory.getValue());
          jPanel1.add(topDirectory);
          
          
        jLabel2.setText("Development Directory");
          jPanel1.add(jLabel2);
          
          
        developDir.setToolTipText("The development directory");
          developDir.setText(xmlOptions.defaultDirectories.currentDevDirectory.getValue());
          jPanel1.add(developDir);
          
          
        jLabel3.setText("Data Directory");
          jPanel1.add(jLabel3);
          
          
        dataDir.setToolTipText("The data directory");
          dataDir.setText(xmlOptions.defaultDirectories.dataDirectory.getValue());
          jPanel1.add(dataDir);
          
          
        add(jPanel1, java.awt.BorderLayout.CENTER);
        
        
        
        initializeSystem.setToolTipText("This initializes the total system from scratch");
          initializeSystem.setText("Initialize Total System");
          initializeSystem.addMouseListener(new java.awt.event.MouseAdapter() {
              public void mouseClicked(java.awt.event.MouseEvent evt) {
                  initializeSystemMouseClicked(evt);
              }
          }
          );
          jPanel2.add(initializeSystem);
          
          
        add(jPanel2, java.awt.BorderLayout.NORTH);
        
    }//GEN-END:initComponents

  private void initializeSystemMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_initializeSystemMouseClicked
// Add your handling code here:
      String command =  xmlOptions.defaultDirectories.xmlDirectory.getValue() +
                        "/scripts/" + 
                        xmlOptions.standardScripts.initRootSystem.getValue() + " " +
                        topDirectory.getText() + " " +
                        developDir.getText() + " " +
                        dataDir.getText();
      RunScriptWithOutput scr = new RunScriptWithOutput(xmlOptions.tLink);
      scr.run(command,true);
  }//GEN-LAST:event_initializeSystemMouseClicked


  // Variables declaration - do not modify//GEN-BEGIN:variables
  private javax.swing.JPanel jPanel1;
  private javax.swing.JLabel jLabel1;
  private javax.swing.JTextField topDirectory;
  private javax.swing.JLabel jLabel2;
  private javax.swing.JTextField developDir;
  private javax.swing.JLabel jLabel3;
  private javax.swing.JTextField dataDir;
  private javax.swing.JPanel jPanel2;
  private javax.swing.JButton initializeSystem;
  // End of variables declaration//GEN-END:variables

  public XMLOptions xmlOptions;  

}
