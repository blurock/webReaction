/*
 * InstanceCommon.java
 *
 * Created on February 14, 2001, 3:45 PM
 */

package blurock.common;
import react.common.TopReactionMenu;
import link.ReactLink;
import blurock.utilities.MenuList;

/**
 *
 * @author  reaction
 * @version 
 */
public class InstanceCommon extends javax.swing.JPanel {

    protected TopReactionMenu Top;
    /** Creates new form InstanceCommon */
    public InstanceCommon(TopReactionMenu top) {
        Top = top;
        initComponents ();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the FormEditor.
     */
    private void initComponents() {//GEN-BEGIN:initComponents
        instShow = new javax.swing.JButton();
        instUpdate = new javax.swing.JButton();
        attrShow = new javax.swing.JButton();
        attrUpdate = new javax.swing.JButton();
        setLayout(new java.awt.GridLayout(5, 2));
        
        instShow.setText("Instances");
        instShow.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                instShow(evt);
            }
        }
        );
        
        add(instShow);
        
        
        instUpdate.setText("Update");
        instUpdate.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                instUpdate(evt);
            }
        }
        );
        
        add(instUpdate);
        
        
        attrShow.setText("Attributes");
        attrShow.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                attrShow(evt);
            }
        }
        );
        
        add(attrShow);
        
        
        attrUpdate.setText("Update");
        attrUpdate.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                attrUpdate(evt);
            }
        }
        );
        
        add(attrUpdate);
        
    }//GEN-END:initComponents

  private void instShow(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_instShow
// Add your handling code here:
  }//GEN-LAST:event_instShow

  private void instUpdate(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_instUpdate
// Add your handling code here:
      getInstanceList(true);
  }//GEN-LAST:event_instUpdate

  private void attrShow(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_attrShow
// Add your handling code here:
  }//GEN-LAST:event_attrShow

  private void attrUpdate(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_attrUpdate
// Add your handling code here:
      getAttributeList(true);
  }//GEN-LAST:event_attrUpdate
  public MenuList getInstanceList(boolean update) {
      if(!instanceListInitialized) {
          instanceList = new MenuList("Instances",
                            Top.SystemCommands.InstanceList.getValue(),
                            Top,false);
          instanceAttributeListInitialized = false;
          instanceListInitialized = true;
          instanceList.singleCommand = false;
      }
      if(update)
           instanceList.updateList();
           
      return instanceList;
  }
  public MenuList getInstanceAttributeList(boolean update) {
      if(!instanceAttributeListInitialized || update)
          getInstanceList(update);
          
      String insts[] = instanceList.getNameList();
      String name;
      if(insts.length > 0)
              name = insts[1].trim();
       else
              name = "Dummy";
      
       return getInstanceAttributeList(update,name);
  }
  public MenuList getInstanceAttributeList(boolean update,String name) {
          String command = Top.SystemCommands.InstanceList.getValue() + " " + name;

         if(!instanceAttributeListInitialized) {
             instanceAttributeList = new MenuList(command,
                             command,
                             Top,false);
             instanceAttributeListInitialized = true;
             instanceAttributeList.singleCommand = false;
         }
         if(update) {
             instanceAttributeList.setCommandString(command);
             instanceAttributeList.updateList();
         }
           
      return instanceAttributeList;
  }
  public MenuList getAttributeList(boolean update) {
      if(!attributeListInitialized)
         attributeList = new MenuList("Attributes",
                            Top.SystemCommands.AttributeList.getValue(),
                            Top,false);
     attributeList.singleCommand = false;
     if(update)
        attributeList.updateList();
     return attributeList;
  }

  // Variables declaration - do not modify//GEN-BEGIN:variables
  private javax.swing.JButton instShow;
  private javax.swing.JButton instUpdate;
  private javax.swing.JButton attrShow;
  private javax.swing.JButton attrUpdate;
  // End of variables declaration//GEN-END:variables

    public MenuList instanceList;    

    public MenuList attributeList;
    
    protected boolean instanceListInitialized = false;
    
    protected boolean attributeListInitialized = false;
    
    public MenuList instanceAttributeList;
    
    public boolean instanceAttributeListInitialized;
    
}
